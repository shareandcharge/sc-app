<ion-header>

    <ion-navbar>
        <ion-title>Set Tariff</ion-title>
    </ion-navbar>

</ion-header>


<ion-content padding>


    <ion-list>
        <ion-item>
            <ion-label left>Ã–ffentlicher Tarif</ion-label>
            <ion-toggle [(ngModel)]="tarifObject.public.active"></ion-toggle>
        </ion-item>
        <div padding="true" *ngIf="tarifObject.public.active">
            <div>
                <ion-segment color="primary" [(ngModel)]="tarifObject.public.selected" padding>
                    <ion-segment-button value="flatrate" *ngIf="hourlyTarif || kwhTarif">
                        Flatrate
                    </ion-segment-button>
                    <ion-segment-button value="hourly" *ngIf="hourlyTarif">
                        Stundentarif
                    </ion-segment-button>
                    <ion-segment-button value="kwh" *ngIf="kwhTarif">
                        kWh
                    </ion-segment-button>
                </ion-segment>

                <div *ngIf="tarifObject.public.selected == 'flatrate'">
                    Flatrate Per charge
                    <ion-input type="text" [(ngModel)]="tarifObject.public.flatrate.flatrateRate"
                               placeholder="0.00"></ion-input>
                    <ion-range min="0" max="20" [(ngModel)]="tarifObject.public.flatrate.flatrateRate" pin="true">
                        <ion-label range-left>0</ion-label>
                        <ion-label range-right>20</ion-label>
                    </ion-range>
                </div>
                <div *ngIf="tarifObject.public.selected == 'hourly'">
                    Energiekosten
                    <ion-input type="text" [(ngModel)]="tarifObject.public.hourly.hourlyRate"
                               placeholder="0.00"></ion-input>
                    <ion-range min="0" max="20" [(ngModel)]="tarifObject.public.hourly.hourlyRate" pin="true">
                        <ion-label range-left>0</ion-label>
                        <ion-label range-right>20</ion-label>
                    </ion-range>

                    Nutzungsentgel Parken
                    <ion-input type="text" [(ngModel)]="tarifObject.public.hourly.parkRate"
                               placeholder="0.00"></ion-input>
                    <ion-range min="0" max="20" [(ngModel)]="tarifObject.public.hourly.parkRate" pin="true">
                        <ion-label range-left>0</ion-label>
                        <ion-label range-right>20</ion-label>
                    </ion-range>

                    estimated price per hour depends on the battery
                </div>
                <div *ngIf="tarifObject.public.selected == 'kwh'">
                    Energiekosten
                    <ion-input type="text" [(ngModel)]="tarifObject.public.kwh.kwhRate"
                               placeholder="0.00"></ion-input>
                    <ion-range min="0" max="20" [(ngModel)]="tarifObject.public.kwh.kwhRate" pin="true">
                        <ion-label range-left>0</ion-label>
                        <ion-label range-right>20</ion-label>
                    </ion-range>

                    Nutzungsentgel Parken
                    <ion-input type="text" [(ngModel)]="tarifObject.public.kwh.parkRate"
                               placeholder="0.00"></ion-input>
                    <ion-range min="0" max="20" [(ngModel)]="tarifObject.public.kwh.parkRate" pin="true">
                        <ion-label range-left>0</ion-label>
                        <ion-label range-right>20</ion-label>
                    </ion-range>

                    estimated price per hour depends on the battery
                </div>
            </div>
        </div>
        <ion-item>
            <ion-label left>Sondertarif</ion-label>
            <ion-toggle [(ngModel)]="tarifObject.private.active"></ion-toggle>
        </ion-item>
        <div padding="true" *ngIf="tarifObject.private.active">
            <ion-label>
                Permission List({{tarifObject.private.permissions.length}}) <ion-icon name="menu" (click)="addPermission()"></ion-icon>
            </ion-label>

            <div>
                <ion-segment color="primary" [(ngModel)]="tarifObject.private.selected" padding>
                    <ion-segment-button value="flatrate" *ngIf="hourlyTarif || kwhTarif">
                        Flatrate
                    </ion-segment-button>
                    <ion-segment-button value="hourly" *ngIf="hourlyTarif">
                        Stundentarif
                    </ion-segment-button>
                    <ion-segment-button value="kwh" *ngIf="kwhTarif">
                        kWh
                    </ion-segment-button>
                </ion-segment>

                <div *ngIf="tarifObject.private.selected == 'flatrate'">
                    Flatrate Per charge
                    <ion-input type="text" [(ngModel)]="tarifObject.private.flatrate.flatrateRate"
                               placeholder="0.00"></ion-input>
                    <ion-range min="0" max="20" [(ngModel)]="tarifObject.private.flatrate.flatrateRate" pin="true">
                        <ion-label range-left>0</ion-label>
                        <ion-label range-right>20</ion-label>
                    </ion-range>
                </div>
                <div *ngIf="tarifObject.private.selected == 'hourly'">
                    Energiekosten
                    <ion-input type="text" [(ngModel)]="tarifObject.private.hourly.hourlyRate"
                               placeholder="0.00"></ion-input>
                    <ion-range min="0" max="20" [(ngModel)]="tarifObject.private.hourly.hourlyRate" pin="true">
                        <ion-label range-left>0</ion-label>
                        <ion-label range-right>20</ion-label>
                    </ion-range>

                    Nutzungsentgel Parken
                    <ion-input type="text" [(ngModel)]="tarifObject.private.hourly.parkRate"
                               placeholder="0.00"></ion-input>
                    <ion-range min="0" max="20" [(ngModel)]="tarifObject.private.hourly.parkRate" pin="true">
                        <ion-label range-left>0</ion-label>
                        <ion-label range-right>20</ion-label>
                    </ion-range>

                    estimated price per hour depends on the battery
                </div>
                <div *ngIf="tarifObject.private.selected == 'kwh'">
                    Energiekosten
                    <ion-input type="text" [(ngModel)]="tarifObject.private.kwh.kwhRate"
                               placeholder="0.00"></ion-input>
                    <ion-range min="0" max="20" [(ngModel)]="tarifObject.private.kwh.kwhRate" pin="true">
                        <ion-label range-left>0</ion-label>
                        <ion-label range-right>20</ion-label>
                    </ion-range>

                    Nutzungsentgel Parken
                    <ion-input type="text" [(ngModel)]="tarifObject.private.kwh.parkRate"
                               placeholder="0.00"></ion-input>
                    <ion-range min="0" max="20" [(ngModel)]="tarifObject.private.kwh.parkRate" pin="true">
                        <ion-label range-left>0</ion-label>
                        <ion-label range-right>20</ion-label>
                    </ion-range>

                    estimated price per hour depends on the battery
                </div>
            </div>
        </div>
    </ion-list>


    <button ion-button (click)="publish()">{{buttonText}}</button>
    <button *ngIf="flowMode == 'edit'" ion-button (click)="deleteStation()">Delete</button>
</ion-content>
