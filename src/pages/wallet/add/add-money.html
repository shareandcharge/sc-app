<ion-header>

    <ion-navbar>

        <ion-buttons start>
            <button ion-button icon-only (click)="dismiss()">
                <ion-icon name="md-close"></ion-icon>
            </button>
        </ion-buttons>

        <ion-title>Konto</ion-title>
    </ion-navbar>

</ion-header>

<ion-content padding>
    <ion-list no-lines="">
        <ion-item>
            <ion-label>Zahlungsmethode</ion-label>
        </ion-item>
        <ion-item>
            <ion-select [(ngModel)]="payInObject.type" interface="action-sheet" class="input-white select-multiline" cancelText="Abbrechen">
                <ion-option value="cc">Kreditkarte</ion-option>
                <ion-option value="paypal">PayPal</ion-option>
                <ion-option value="sofort">Sofortüberweisung</ion-option>
                <!--<ion-option value="dd">Bankeinzug</ion-option>-->
            </ion-select>
        </ion-item>
    </ion-list>

    <div *ngIf="payInObject.type=='cc' && user && user.hasCreditCards()" padding-horizontal>
        <ion-list radio-group class="ion-list-white" [(ngModel)]="cardId">
            <ion-list-header>
                Welche Karte verwenden
            </ion-list-header>
            <ion-item *ngFor="let card of user.getCreditCards()">
                <ion-label>{{card.number}}</ion-label>
                <ion-radio value="{{card.number}}" checked="{{card.number == cardId}}"></ion-radio>
            </ion-item>
            <ion-item>
                <ion-label>Neue Karte verwenden</ion-label>
                <ion-radio value=""></ion-radio>
            </ion-item>
        </ion-list>
    </div>

    <div class="input-box input-box-white input-box-xl margin-bottom-xl">
        <div class="input-box-inner">
            <ion-input type="tel" [(ngModel)]="displayAmount" placeholder="0"></ion-input>
            <label>€</label>
        </div>
    </div>


    <div *ngIf="payInObject.type=='dd'">
        <ion-list>
            <ion-item>
                <ion-input [(ngModel)]="payInObject.details.iban" placeholder="IBAN" type="text"></ion-input>
            </ion-item>
            <ion-item>
                <ion-input [(ngModel)]="payInObject.details.bic" placeholder="BIC" type="text"></ion-input>
            </ion-item>
            <ion-item>
                <ion-input [(ngModel)]="payInObject.details.account_holder" placeholder="Kontoinhaber" type="text"></ion-input>
            </ion-item>
        </ion-list>
    </div>

    <div padding text-center>
        <button ion-button (click)="addMoney()" round text-uppercase="" [disabled]="!displayAmount || displayAmount<=0 || payInButtonDisabled">
            Konto aufladen
        </button>
    </div>
</ion-content>
