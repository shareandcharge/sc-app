<ion-header class="transparent">

    <ion-navbar>
        <ion-title></ion-title>
        <ion-buttons end>
            <button ion-button icon-only (click)="dismiss()">
                <ion-icon name="close"></ion-icon>
            </button>
        </ion-buttons>
    </ion-navbar>

</ion-header>

<ion-content padding>
    <ion-grid class="fullpage" *ngIf="!auth.loggedIn()">
        <ion-row>
            <ion-col>
                <h1 text-center>Willkommen bei Share&Charge</h1>

                <div *ngIf="error" class="alert-box alert-box-danger" margin>{{ error | translate}}</div>

                <form [formGroup]="signUpForm" (ngSubmit)="signUp()">
                    <div padding="">
                        <ion-input type="email"
                                   formControlName="email"
                                   [(ngModel)]="signUpObject.email" name="email" placeholder="E-Mail"></ion-input>
                    </div>
                    <div *ngIf="!signUpForm.controls.email.valid && (signUpForm.controls.email.dirty || submitAttempt)"
                         class="alert-box alert-box-danger" margin>
                        {{ errorMessages.email }}
                    </div>
                    <div padding="">
                        <ion-input type="password"
                                   formControlName="password"
                                   [(ngModel)]="signUpObject.authentification.password" name="password" placeholder="Passwort"></ion-input>
                    </div>
                    <div *ngIf="!signUpForm.controls.password.valid && (signUpForm.controls.password.dirty || submitAttempt)"
                         class="alert-box alert-box-danger" margin>
                        {{ errorMessages.password }}
                        <ion-icon name="ios-help-circle-outline" item-right (click)="showHelp('password')"></ion-icon>
                    </div>
                    <ion-list no-lines class="list-tac">
                        <ion-item>
                            <ion-checkbox color="light" checked="false"
                                          formControlName="terms"
                                          [(ngModel)]="termsAccept" name="termsAccept">
                            </ion-checkbox>
                            <ion-label>Ich stimme den <a ion-text="" color="light" (click)="openTerms()">AGBs</a> zu.</ion-label>
                        </ion-item>
                    </ion-list>
                    <div *ngIf="!signUpForm.controls.terms.valid && (signUpForm.controls.terms.dirty || submitAttempt)"
                         class="alert-box alert-box-danger" margin>
                        {{ errorMessages.terms }}
                    </div>
                    <div padding="" text-center="">
                        <p>
                            <button ion-button round color="white" type="submit" text-uppercase="">Anmelden</button>
                        </p>
                        <p>
                            <button clear ion-button (click)="login()" color="dark" type="button">Login</button>
                        </p>
                    </div>
                </form>
            </ion-col>
        </ion-row>
        <!--<ion-row bottom="">-->
        <!--<ion-col>-->
        <!--<ion-row wrap>-->
        <!--<ion-col width-33>-->
        <!--<button ion-button icon-only round color="white" (click)="loginFacebook()">-->
        <!--<ion-icon name="logo-facebook"></ion-icon>-->
        <!--</button>-->
        <!--</ion-col>-->
        <!--<ion-col width-33 text-center="">-->
        <!--<button ion-button icon-only round color="white" (click)="loginGoogle()">-->
        <!--<ion-icon name="logo-googleplus"></ion-icon>-->
        <!--</button>-->
        <!--</ion-col>-->
        <!--<ion-col width-33 text-right="">-->
        <!--<button ion-button icon-only round color="white" (click)="loginMicrosoft()">-->
        <!--<ion-icon name="logo-windows"></ion-icon>-->
        <!--</button>-->
        <!--</ion-col>-->
        <!--</ion-row>-->
        <!--</ion-col>-->
        <!--</ion-row>-->
    </ion-grid>


    <ion-grid class="fullpage" *ngIf="auth.loggedIn()">
        <ion-row>
            <ion-col>

                <h1>Hello</h1>
                {{ auth.getUser().displayName}}
                <button ion-button (click)="logout()">Logout</button>
            </ion-col>
        </ion-row>
    </ion-grid>
</ion-content>

